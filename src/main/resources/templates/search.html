<div class="container h-75 d-flex align-items-center justify-content-around">
    <div class="d-block w-100 h-100 mt-5">
        <form th:method="POST" th:action="@{/search}">
            <h3 class="text-center mb-4">Пребарај по град</h3>
            <div class="mb-3 d-flex justify-content-center">
                <input name="city" type="text" class="form-control w-25 mx-3" placeholder="Град">
                <input class="btn btn-warning text-white fw-bold" type="submit" value="Пребарај">
                <a href="/search" class="btn btn-warning text-white fw-bold mx-3">Прикажи аптеки</a>
            </div>
        </form>
        <div id="map" style="height:100%"></div>
    </div>
</div>
<script type="text/javascript" th:src="@{'/js/functions.js'}"></script>
<script th:inline="javascript">

    let user_lat = undefined;
    let user_lon = undefined;

    let list = [[${list}]];
    let map = L.map('map');
    map.locate({setView: true, maxZoom: 13});

    map.on('locationfound', (ev) => {
        user_lat = ev.latlng['lat'];
        user_lon = ev.latlng['lng'];
    });

    setMap();

    displayPharmaciesDetails();


</script>